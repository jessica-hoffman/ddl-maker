with constraints as 

(select 

   TABLE_NAME, CONSTRAINT_NAME, 

    stuff(( 

        select ',' + u.column_name 

        from INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE u 

        where u.TABLE_NAME = g.TABLE_NAME 

          and u.CONSTRAINT_NAME = g.CONSTRAINT_NAME 

        order by u.column_name 

        for xml path('') 

    ),1,1,'') as column_list 

FROM INFORMATION_SCHEMA.CONSTRAINT_COLUMN_USAGE g 

group by TABLE_NAME, CONSTRAINT_NAME 

) 

SELECT  

  tc.table_name,column_list 

FROM constraints c 

     inner join INFORMATION_SCHEMA.TABLE_CONSTRAINTS tc on c.CONSTRAINT_NAME = tc.CONSTRAINT_NAME  

                                                           and tc.CONSTRAINT_TYPE = 'PRIMARY KEY'  

WHERE tc.TABLE_NAME in (